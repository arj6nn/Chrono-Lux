<%-include("../partials/user/header")%>

    <link rel="stylesheet" href="/styles/user/header.css">
    <link rel="stylesheet" href="/styles/user/home.css">

    <body>
        <section class="hero-video-section">
            <div class="video-frame">
                <video autoplay muted loop playsinline>
                    <source src="/videos/watch.mp4" type="video/mp4">
                </video>
            </div>

            <h1 class="hero-brand">CHRONO</h1>

            <a href="/shop" class="hero-discover">Discover The Collection</a>
        </section>

        <section class="features">
            <div class="container features-wrapper">
                <div class="feature-box">
                    <i class="fa-solid fa-shield-halved"></i>
                    <h3>Authenticity Guaranteed</h3>
                    <p>Every timepiece is verified authentic by our expert curators.</p>
                </div>
                <div class="feature-box">
                    <i class="fa-solid fa-truck-fast"></i>
                    <h3>Free Shipping</h3>
                    <p>Complimentary worldwide shipping on all orders over $500.</p>
                </div>
                <div class="feature-box">
                    <i class="fa-solid fa-medal"></i>
                    <h3>Lifetime Warranty</h3>
                    <p>Comprehensive coverage for your peace of mind.</p>
                </div>
            </div>
        </section>

        <section class="products">
  <div class="container">
    <div class="section-title">
      <h2>New Arrivals</h2>
      <p>Handpicked selections from our master collection</p>
    </div>

    <div class="product-grid">

      <% if (featuredProducts && featuredProducts.length > 0) { %>

        <% featuredProducts.forEach(product => { 
          const v = product.variants[0];
        %>

          <a href="/product/<%= product._id %>" class="product-card">
            <div class="img-container">
              <img
                src="<%= v.images[0] %>"
                alt="<%= product.productName %>"
              >
            </div>

            <div class="product-info">
              <h4><%= product.productName %></h4>
              <p>
                â‚¹ <%= v.salesPrice > 0 ? v.salesPrice : v.price %>
              </p>
            </div>
          </a>

        <% }) %>

      <% } else { %>
        <p style="text-align:center;">No featured watches available</p>
      <% } %>

    </div>
  </div>
</section>

        
        <section class="collections">
  <div class="container">
    <div class="section-title">
      <h2>Our Collections</h2>
      <p>Explore our curated inventory</p>
    </div>

    <div class="collection-grid">

      <% if (categories && categories.length > 0) { %>
        <% categories.forEach((category, index) => { %>

          <div class="collection-card col-<%= index + 1 %>"
               style="background-image: url('<%= category.categoryImage %>');">

            <div class="card-content">
              <h3><%= category.name %></h3>
              <p><%= category.description %></p>

              <a href="/shop?category=<%= category._id %>" class="btn-card">
                Explore
              </a>
            </div>

          </div>

        <% }) %>
      <% } else { %>
        <p style="text-align:center;">No collections available</p>
      <% } %>

    </div>
  </div>
</section>

        <section class="newsletter">
            <div class="container newsletter-wrapper">
                <div class="section-title">
                    <h2>Join Our Newsletter</h2>
                    <p>Be the first to know about new arrivals, exclusive offers, and horological insights.</p>
                </div>
                <form class="newsletter-form">
                    <input type="email" placeholder="Enter your email">
                    <button type="submit" class="btn btn-primary">Subscribe</button>
                </form>
            </div>
        </section>
        <%-include("../partials/user/footer")%>

    </body>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            const nav = document.querySelector('nav');
            if (!nav) return;
            nav.classList.add('glass-nav');
        });
    </script>

    </html>
